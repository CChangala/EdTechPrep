<!DOCTYPE html>
<html>
    <head>
        <title>
            Rock-Paper-Sissors
        </title>

    </head>
    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="
            pickComputerMove();
            playGame('Rock');
            "
        >Rock</button>
        <button onclick="
            pickComputerMove();
            playGame('Paper');
        ">Paper</button>
        <button onclick="
            pickComputerMove();
            playGame('Scissors');
        ">Scissors</button>
        <button onclick ="localStorage.removeItem('score')
        alert(`Games Reset!
        Wins :${score.wins},Losses:${score.loss},Ties:${score.ties}`)">
            Reset Score
        </button>
        <script>
            
            let score =JSON.parse(localStorage.getItem('score'));
            if(score === null){
                score ={
                    wins: 0,
                    loss: 0,
                    ties: 0
                }
            }
            function playGame(playersMove){
                let result = '';
                if(playersMove === 'Paper'){
                    if(computer_move === 'Paper'){
                        result = 'Ties';
                    }
                    else if(computer_move === 'Scissors'){
                        result = 'Looses';
                    }
                    else{
                        result = 'Wins';
                    }
                }
                if(playersMove === 'Rock'){
                    if(computer_move === 'Rock'){
                        result = 'Ties';
                    }
                    else if(computer_move === 'Paper'){
                        result = 'Looses';
                    }
                    else{
                        result = 'Wins';
                    }
                }
                if(playersMove === 'Scissors'){
                    if(computer_move === 'Scissors'){
                        result = 'Ties';
                    }
                    else if(computer_move === 'Rock'){
                        result = 'Looses';
                    }
                    else{
                        result = 'Wins';
                    }
                }
                if(result === 'Ties'){
                    score.ties += 1; 
                }
                else if(result === 'Looses'){
                    score.loss +=1;
                }
                else{
                    score.wins += 1;
                }
                alert(`Player plays ${playersMove}. Computer plays ${computer_move} . Player ${result} !!! \n Wins :${score.wins},Losses:${score.loss},Ties:${score.ties}`)
                localStorage.setItem('score',JSON.stringify(score));
            }
            let computer_move = '';
            function pickComputerMove(){
                let randomNumber = Math.random();
                if(randomNumber>=0 && randomNumber<1/3 ){
                    computer_move = 'Rock';
                }
                else if(randomNumber>=1/3 && randomNumber<2/3){
                    computer_move = 'Paper';
                }
                else if(randomNumber>=2/3 && randomNumber<1){
                    computer_move = 'Scissors';
                }
            }
        </script>
    </body>
</html>